HTTP GET /api/shop/order/e5225750-dc8d-42f8-b550-ba60d3d48a48/ 200 [0.04, 172.18.0.1:33036]
b'{"data":{"order":{"order_id":"e5225750-dc8d-42f8-b550-ba60d3d48a48","order_amount":120.00,"order_currency":"INR","order_tags":null},"payment":{"cf_payment_id":5114911368252,"payment_status":"SUCCESS","payment_amount":120.00,"payment_currency":"INR","payment_message":"Simulated response message","payment_time":"2024-09-21T02:38:16+05:30","bank_reference":"1234567890","auth_id":null,"payment_method":{"upi":{"channel":null,"upi_id":"testtpvsuccess@gocash"}},"payment_group":"upi"},"customer_details":{"customer_name":"Jatin","customer_id":"7Jatincustomer","customer_email":"jatin.kshatriya2821@gmail.com","customer_phone":"8878249595"}},"event_time":"2024-09-21T02:38:34+05:30","type":"PAYMENT_SUCCESS_WEBHOOK"}' request
{'data': {'order': {'order_id': 'e5225750-dc8d-42f8-b550-ba60d3d48a48', 'order_amount': 120.0, 'order_currency': 'INR', 'order_tags': None}, 'payment': {'cf_payment_id': 5114911368252, 'payment_status': 'SUCCESS', 'payment_amount': 120.0, 'payment_currency': 'INR', 'payment_message': 'Simulated response message', 'payment_time': '2024-09-21T02:38:16+05:30', 'bank_reference': '1234567890', 'auth_id': None, 'payment_method': {'upi': {'channel': None, 'upi_id': 'testtpvsuccess@gocash'}}, 'payment_group': 'upi'}, 'customer_details': {'customer_name': 'Jatin', 'customer_id': '7Jatincustomer', 'customer_email': 'jatin.kshatriya2821@gmail.com', 'customer_phone': '8878249595'}}, 'event_time': '2024-09-21T02:38:34+05:30', 'type': 'PAYMENT_SUCCESS_WEBHOOK'} headers
b'{"data":{"order":{"order_id":"e5225750-dc8d-42f8-b550-ba60d3d48a48","order_amount":120.00,"order_currency":"INR","order_tags":null},"payment":{"cf_payment_id":5114911368252,"payment_status":"SUCCESS","payment_amount":120.00,"payment_currency":"INR","payment_message":"Simulated response message","payment_time":"2024-09-21T02:38:16+05:30","bank_reference":"1234567890","auth_id":null,"payment_method":{"upi":{"channel":null,"upi_id":"testtpvsuccess@gocash"}},"payment_group":"upi"},"customer_details":{"customer_name":"Jatin","customer_id":"7Jatincustomer","customer_email":"jatin.kshatriya2821@gmail.com","customer_phone":"8878249595"},"payment_gateway_details":{"gateway_name":"CASHFREE","gateway_order_id":"2184077106","gateway_payment_id":"5114911368252","gateway_status_code":null,"gateway_order_reference_id":"null","gateway_settlement":"CASHFREE"},"payment_offers":null},"event_time":"2024-09-21T02:38:34+05:30","type":"PAYMENT_SUCCESS_WEBHOOK"}' request
{'data': {'order': {'order_id': 'e5225750-dc8d-42f8-b550-ba60d3d48a48', 'order_amount': 120.0, 'order_currency': 'INR', 'order_tags': None}, 'payment': {'cf_payment_id': 5114911368252, 'payment_status': 'SUCCESS', 'payment_amount': 120.0, 'payment_currency': 'INR', 'payment_message': 'Simulated response message', 'payment_time': '2024-09-21T02:38:16+05:30', 'bank_reference': '1234567890', 'auth_id': None, 'payment_method': {'upi': {'channel': None, 'upi_id': 'testtpvsuccess@gocash'}}, 'payment_group': 'upi'}, 'customer_details': {'customer_name': 'Jatin', 'customer_id': '7Jatincustomer', 'customer_email': 'jatin.kshatriya2821@gmail.com', 'customer_phone': '8878249595'}, 'payment_gateway_details': {'gateway_name': 'CASHFREE', 'gateway_order_id': '2184077106', 'gateway_payment_id': '5114911368252', 'gateway_status_code': None, 'gateway_order_reference_id': 'null', 'gateway_settlement': 'CASHFREE'}, 'payment_offers': None}, 'event_time': '2024-09-21T02:38:34+05:30', 'type': 'PAYMENT_SUCCESS_WEBHOOK'} headers
b'{"data":{"order":{"order_id":"e5225750-dc8d-42f8-b550-ba60d3d48a48","order_amount":120.00,"order_currency":"INR","order_tags":null},"payment":{"cf_payment_id":"5114911368252","payment_status":"SUCCESS","payment_amount":120.00,"payment_currency":"INR","payment_message":"Simulated response message","payment_time":"2024-09-21T02:38:16+05:30","bank_reference":"1234567890","auth_id":null,"payment_method":{"upi":{"channel":null,"upi_id":"testtpvsuccess@gocash"}},"payment_group":"upi"},"customer_details":{"customer_name":"Jatin","customer_id":"7Jatincustomer","customer_email":"jatin.kshatriya2821@gmail.com","customer_phone":"8878249595"},"payment_gateway_details":{"gateway_name":"CASHFREE","gateway_order_id":"2184077106","gateway_payment_id":"5114911368252","gateway_status_code":null,"gateway_order_reference_id":"null","gateway_settlement":"CASHFREE"},"payment_offers":null},"event_time":"2024-09-21T02:38:34+05:30","type":"PAYMENT_SUCCESS_WEBHOOK"}' request
{'data': {'order': {'order_id': 'e5225750-dc8d-42f8-b550-ba60d3d48a48', 'order_amount': 120.0, 'order_currency': 'INR', 'order_tags': None}, 'payment': {'cf_payment_id': '5114911368252', 'payment_status': 'SUCCESS', 'payment_amount': 120.0, 'payment_currency': 'INR', 'payment_message': 'Simulated response message', 'payment_time': '2024-09-21T02:38:16+05:30', 'bank_reference': '1234567890', 'auth_id': None, 'payment_method': {'upi': {'channel': None, 'upi_id': 'testtpvsuccess@gocash'}}, 'payment_group': 'upi'}, 'customer_details': {'customer_name': 'Jatin', 'customer_id': '7Jatincustomer', 'customer_email': 'jatin.kshatriya2821@gmail.com', 'customer_phone': '8878249595'}, 'payment_gateway_details': {'gateway_name': 'CASHFREE', 'gateway_order_id': '2184077106', 'gateway_payment_id': '5114911368252', 'gateway_status_code': None, 'gateway_order_reference_id': 'null', 'gateway_settlement': 'CASHFREE'}, 'payment_offers': None}, 'event_time': '2024-09-21T02:38:34+05:30', 'type': 'PAYMENT_SUCCESS_WEBHOOK'} headers
Internal Server Error: /api/shop/cashfree/webhook/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/views/decorators/csrf.py", line 56, in wrapper_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/utils/decorators.py", line 46, in _wrapper
    return bound_method(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/views/decorators/csrf.py", line 56, in wrapper_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.11/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.11/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/shop/api/views.py", line 451, in post
    cashfree.PGVerifyWebhookSignature(signature, request.body, timestamp)
  File "/usr/local/lib/python3.11/site-packages/cashfree_pg/api_client.py", line 321, in PGVerifyWebhookSignature
    signatureData = timestamp+rawBody
                    ~~~~~~~~~^~~~~~~~
TypeError: can only concatenate str (not "bytes") to str
Internal Server Error: /api/shop/cashfree/webhook/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/views/decorators/csrf.py", line 56, in wrapper_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/utils/decorators.py", line 46, in _wrapper
    return bound_method(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/views/decorators/csrf.py", line 56, in wrapper_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.11/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.11/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/shop/api/views.py", line 451, in post
    cashfree.PGVerifyWebhookSignature(signature, request.body, timestamp)
  File "/usr/local/lib/python3.11/site-packages/cashfree_pg/api_client.py", line 321, in PGVerifyWebhookSignature
    signatureData = timestamp+rawBody
                    ~~~~~~~~~^~~~~~~~
TypeError: can only concatenate str (not "bytes") to str
Internal Server Error: /api/shop/cashfree/webhook/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/views/decorators/csrf.py", line 56, in wrapper_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/utils/decorators.py", line 46, in _wrapper
    return bound_method(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/views/decorators/csrf.py", line 56, in wrapper_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.11/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.11/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/app/shop/api/views.py", line 451, in post
    cashfree.PGVerifyWebhookSignature(signature, request.body, timestamp)
  File "/usr/local/lib/python3.11/site-packages/cashfree_pg/api_client.py", line 321, in PGVerifyWebhookSignature
    signatureData = timestamp+rawBody
                    ~~~~~~~~~^~~~~~~~
TypeError: can only concatenate str (not "bytes") to str